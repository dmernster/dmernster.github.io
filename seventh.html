<html>
  <body style="background-color: #000000;">
    <canvas id="theCanvas"></canvas>
      <script>
        // Create a canvas element
        //var canvas2 = document.getElementById("theCanvas2");
        var canvas2 = document.createElement('canvas');
        canvas2.width = 50;
        canvas2.height = 50;

        // Get the drawing context
        var ctx2 = canvas2.getContext('2d');

        // Then you can do stuff, e.g.:
        ctx2.fillStyle = '#000000';
        ctx2.fillRect(0,0,50,50);
        
        ctx2.fillStyle = '#ffffff';
        ctx2.fillRect(10,20,10,10);
        
        // Function to get the color of a pixel at (x, y)
        function getPixelFlip(x, y)
        {
          // Check if the coordinates are within the bitmap's bounds
          if (x < 0 || x >= width || y < 0 || y >= height)
          {
            return null;
          }

          // Get the pixel data from the canvas
          const pixelData = ctx.getImageData(x, y, 1, 1).data;

          // Return the color of the pixel as a string in the format '#rrggbb'
          return pixelData[0]!=0 || pixelData[1]!=0 || pixelData[2]!=0;
        }
        
        var can=document.getElementById("theCanvas");
        can.width=750;
        can.height=750;
        var tick=0;
        function gb(r,c,t,v)
        {
          if(document.getElementById('bc').checked)
          {
            if(getPixelFlip(c,r))
            {
              return 255-gs(r*5,t,v);
            }
            else
            {
             return gs(r*5,t,v);
            }
          }
          else
          {
            return 0;
          }
        }
        function gr(r,c,t,v)
        {
          if(document.getElementById('rc').checked)
          {
            return gs(c*5,t,v);
          }
          else
          {
            return 0;
          }
        }
        function gs(o,t,v)
        {
          var x=(o+t*v);
          x=((x%512)+512)%512;
          if(x>=256)
          {
            x=512-x;
          }
          return x;
        }
        function gg(r,c,t,v)
        {
          if(document.getElementById('gc').checked)
          {
            if(r>25)
            {
              r=50-r;
            }
            if(c>25)
            {
              c=50-c;
            }
            x=gs((r+c)*15,tick,5);
            return x;
          }
          else
          {
            return 0;
          }
        }
        function myTick()
        {
          if(document.getElementById('revc').checked)
          {
            tick--;
          }
          else
          {
            tick++;
          }
          var c=can.getContext("2d");
          var d=50;
          var s=15;
          for(var i=0; i<d; i++)
          {
            for(var j=0; j<d; j++)
            {
              c.fillStyle=`rgb(${gr(i,j,tick,25)},${gg(i,j,tick,20)},${gb(i,j,tick,10)})`;
              c.fillRect(s*i,s*j,s,s);
            }
          }
        }
        setInterval(myTick,200);
        
      </script>
      <br>
      <input type="checkbox" id="rc" name="rc" value="RedOn" style="height: 40px; width: 40px;" checked>
      <label for="rc" style="color: red; font-size: 40px">Red</label><br>
      <input type="checkbox" id="gc" name="gc" value="GreenOn" style="height: 40px; width: 40px;" checked>
      <label for="gc" style="color: green; font-size: 40px">Green</label><br>
      <input type="checkbox" id="bc" name="bc" value="BlueOn" style="height: 40px; width: 40px;" checked>
      <label for="bc" style="color: blue; font-size: 40px">Blue</label><br>
      <input type="checkbox" id="revc" name="revc" value="ReverseOn" style="height: 40px; width: 40px;">
      <label for="revc" style="color: yellow; font-size: 40px">Reverse</label><br>
  </body>     
</html>